(this["webpackJsonpcasting-app"]=this["webpackJsonpcasting-app"]||[]).push([[0],{21:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},24:function(e,t,a){e.exports=a(43)},41:function(e,t,a){},42:function(e,t,a){},43:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(20),l=a.n(r),s=a(1),o=a(3),i=a(21),m=a.n(i),u=function(){return c.a.createElement("div",{className:"text-center hero"},c.a.createElement("img",{className:"mb-3 app-logo",src:m.a,alt:"React logo",width:"120"}),c.a.createElement("h1",{className:"mb-4"},"React Casting"),c.a.createElement("p",{className:"lead"},"Let's discuss your casting needs over coffee!"))},d=function(){return c.a.createElement("div",{className:"spinner"},c.a.createElement("img",{src:"https://cdn.auth0.com/blog/auth0-react-sample/assets/loading.svg",alt:"Loading..."}))},p=a(7),b=function(){return c.a.createElement("div",{className:"navbar-nav mr-auto"},c.a.createElement(p.b,{to:"/",exact:!0,className:"nav-link",activeClassName:"router-link-exact-active"},"Home"),c.a.createElement(p.b,{to:"/profile",exact:!0,className:"nav-link",activeClassName:"router-link-exact-active"},"Profile"),c.a.createElement(p.b,{to:"/external-api",exact:!0,className:"nav-link",activeClassName:"router-link-exact-active"},"External API"))},E=function(){var e=Object(o.b)().loginWithRedirect;return c.a.createElement("button",{className:"btn btn-primary btn-block",onClick:function(){return e()}},"Log In")},v=function(){var e=Object(o.b)().logout;return c.a.createElement("button",{className:"btn btn-danger btn-block",onClick:function(){return e({returnTo:window.location.origin})}},"Log Out")},f=function(){return Object(o.b)().isAuthenticated?c.a.createElement(v,null):c.a.createElement(E,null)},g=function(){return c.a.createElement("div",{className:"navbar-nav ml-auto"},c.a.createElement(f,null))},h=function(){return c.a.createElement("div",{className:"nav-container mb-3"},c.a.createElement("nav",{className:"navbar navbar-expand-md navbar-light bg-light"},c.a.createElement("div",{className:"container"},c.a.createElement(b,null),c.a.createElement(g,null))))},N=a(11),x=a.n(N),k=a(16),O=a(17),w=function(){var e=Object(n.useState)(""),t=Object(O.a)(e,2),a=t[0],r=t[1],l=Object(n.useState)(""),s=Object(O.a)(l,2),i=s[0],m=s[1],u=Object(o.b)().getAccessTokenSilently,d=function(){var e=Object(k.a)(x.a.mark((function e(){var t;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u();case 3:t=e.sent,m(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){d()}));var p=function(){var e=Object(k.a)(x.a.mark((function e(){var t,a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat("http://localhost:8080","/actors"),{headers:{Authorization:"Bearer ".concat(i)}});case 3:return t=e.sent,e.next=6,t.json();case 6:a=e.sent,console.log(a),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),r(e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();return c.a.createElement("div",{className:"container"},c.a.createElement("h1",null,"External API"),c.a.createElement("p",null,"Use these buttons to call an external API. The protected API call has an access token in its authorization header. The API server will validate the access token using the Auth0 Audience value."),c.a.createElement("div",{className:"btn-group mt-5",role:"group","aria-label":"External API Requests Examples"},c.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:d},"Get Token"),c.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:p},"Get Protected Message")),i&&c.a.createElement("div",{className:"mt-5"},c.a.createElement("h6",{className:"muted"},"Token"),c.a.createElement("div",{className:"container-fluid"},c.a.createElement("div",{className:"row"},c.a.createElement("code",{className:"col-12 text-light bg-dark p-4"},i)))),a&&c.a.createElement("div",{className:"mt-5"},c.a.createElement("h6",{className:"muted"},"response"),c.a.createElement("div",{className:"container-fluid"},c.a.createElement("div",{className:"row"},c.a.createElement("code",{className:"col-12 text-light bg-dark p-4"},a)))))},j=function(){return c.a.createElement(n.Fragment,null,c.a.createElement(u,null),c.a.createElement("hr",null))},y=function(){var e=Object(o.b)().user,t=e.nickname,a=e.picture,n=e.email;return c.a.createElement("div",null,c.a.createElement("div",{className:"row align-items-center profile-header"},c.a.createElement("div",{className:"col-md-2 mb-3"},c.a.createElement("img",{src:a,alt:"Profile",className:"rounded-circle img-fluid profile-picture mb-3 mb-md-0"})),c.a.createElement("div",{className:"col-md text-center text-md-left"},c.a.createElement("h2",null,t),c.a.createElement("p",{className:"lead text-muted"},n))),c.a.createElement("div",{className:"row"},c.a.createElement("pre",{className:"col-12 text-light bg-dark p-4"},JSON.stringify(e,null,2))))},A=a(23),P=function(e){var t=e.component,a=Object(A.a)(e,["component"]);return c.a.createElement(s.a,Object.assign({component:Object(o.c)(t,{onRedirecting:function(){return c.a.createElement(d,null)}})},a))},C=(a(41),function(){return Object(o.b)().isLoading?c.a.createElement(d,null):c.a.createElement("div",{id:"app",className:"d-flex flex-column h-100"},c.a.createElement(h,null),c.a.createElement("div",{className:"container flex-grow-1"},c.a.createElement("div",{className:"mt-5"},c.a.createElement(s.c,null,c.a.createElement(s.a,{path:"/",exact:!0,component:j}),c.a.createElement(P,{path:"/profile",component:y}),c.a.createElement(s.a,{path:"/external-api",component:w})))))}),I=function(e){var t=e.children,a=Object(s.f)();return c.a.createElement(o.a,{domain:"aptiv-us.us.auth0.com",clientId:"Pbc6Pa11ozIvigCbXnmZfB5OtAla0g0y",redirectUri:window.location.origin,onRedirectCallback:function(e){a.push((null===e||void 0===e?void 0:e.returnTo)||window.location.pathname)},audience:"test"},t)};a(42);l.a.render(c.a.createElement(p.a,null,c.a.createElement(I,null,c.a.createElement(C,null))),document.getElementById("root"))}},[[24,1,2]]]);
//# sourceMappingURL=main.dd6f2f40.chunk.js.map